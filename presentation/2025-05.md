---
marp: true
theme: gaia
header: "**GraphAI**"
footer: "by **Receptron team**"
slide: true
style: |
  section {
    font-size: x-large;
  }
paginate: true

---

# GraphAI/Grapys

## Full-Stack TypeScript Tool for AI Applications

Isamu Arimoto
<!--
_class: lead
_paginate: false
_header: ""

-->

---
 ## 自己紹介

- Isamu Arimoto
  - Software engineer
    - Server/Web
- Singularity Society / TNE
  - SlashGPT/GraphAI

  
---
 ## Contents
 - 内容
   - GraphAI とは
   - Grapys/GraphAIのデモ

---
## GraphAI とは

- TypeScriptで書かれたMulti agent フレームワーク
- サーバ/ブラウザ/それらの混在環境でも動く

  - ワークフロー(GraphData)と Agent の実装(TypeScript)が分離
  - Agentをブラウザ、サーバの任意の場所で動かせる
  - local llm(ollama)直接使える
  - ワークフローの途中でユーザとのインタクション可能
  - Stream を透過的にサポート
  - Graphのネスト/Map/Loopをサポート
  - ツールが多数ある
- Agentがスキーマなどのメタ情報を持つ
- Agentサーバ
  - Agent情報一覧を返して動的に利用可能
  - SPECを合わせれば、どんなendpointでもagent化(SSEサポート)
---

## GraphAI とAgent

|Graph | GraphとAgent|
|--|--|
|![w:600](graph1.png#right) |![w:300](drawio/graph.drawio.png) 

 - 本体はシンプル
   - Graphの制御のみ/YAML, JSONでGraphの定義
   - Agent - LLM/WebAPI/データ処理/IO
   - Agent Filter - 各Agentを実行する前後に処理を挟む -> Agentの実行場所を分離できる

---
## GraphAI 構成例

![bg right:40% w:500](drawio/browser-server6.drawio.png)

- Node A - ブラウザ上のJS
- Node B - openAI APIを直接呼び出し
- Node E - localのollama
- Node C, DはServerのAgent(NestedAgent)を呼び出す
- Node FはServerのAgent


---
## Demo

- Grapys
  - https://github.com/receptron/grapys
- Grapys-demo
  - https://github.com/receptron/graphai-demo-web/
  - TOP
    - random (大きなグラフ)
    - stream2 (並列stream)
    - sample(loop)
  - google map
  - google video
- 
  - https://github.com/receptron/graphai-utils/tree/main/packages/event_agent_generator

---
## Tool

- express
  - agentサーバ
    - streamサポートSSE
    - .well-known/agent.jsonのような仕組み
  - graphサーバ
  - chat completion api
    - openweb uiなどの既存ツールとのintegrate
- event
  - user interaction
- visualizer
  - https://marketplace.visualstudio.com/items?itemName=kawamataryo.graphai-visualizer
- agent(多数)
  - mcp
  - tools
- agent_generator
  - llmでagent作成
- cli
- cytoscape

##
 github receptron
 slack x_graphai

---

GUIでのGraphの構築
ブラウザの入力とGraphのNodeを同期させて必要な箇所でブラウザイベント
Toolsと連携してブラウザ操作
非同期Streaming


express
stream系
event系
各種llm/データ処理


Node.js(サーバとブラウザの両方で動く）
ワークフローとAgentの実装の分離
ワークフローで呼び出すNode(Agent）をNode単位で実行先を指定できる
- ブラウザで動かす
- サーバで動かす
- localのollamaを呼ぶ
Agentが、
API Specを持っている
Agentのメタデータを持っていて、web apiで一覧を取れる
SSEやREST APIで呼び出せる
api呼び出しでagentごとに任意の認証を追加できる
map/nestedで複雑な処理もできる
nested agentの仕組みを使ってgraphの再利用化
ユーザの入力
ユーザとのinteraction
agent filterを含む、仕組み
Grapys
- GUIツール
- 単純なワークフローはGUIで作れる！！
- Localでvueを動かせば、ブラウザからllm(openaiなど）を呼び出すので、簡単に試せる
- 生成したGraphDataはダウンロートしてアプリに組み込める
nest/ input/ event

Demo
- 紹介
	- サーバとクライアントの実装別れている
	- 複数のサーバで分散できる
- Stream
- サーバとの切り替え
- ステップ実行
- 入力系
- Google Map
- Grapys
	- GUIとGraph data相互にいける